<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QuanLySanPham</title>
</head>
<body>
<p>Add New Product</p>
<input type="text" id="add" placeholder="New Product"/>
<input type="button" value="Add" onclick="addNewProduct()"/><br/>
<span>Số lượng sản phẩm: </span><span id="soluong"></span>
<p id="result"></p>


<!--<table border="1">-->
<!--    <tr>-->
<!--        <th>STT</th>-->
<!--        <th>Name</th>-->
<!--        <th>Edit</th>-->
<!--        <th>Delete</th>-->
<!--    </tr>-->
<!--    <tr>-->
<!--        <td>1</td>-->
<!--        <td>Iphone</td>-->
<!--        <td></td>-->
<!--        <td></td>-->
<!--    </tr>-->
<!--</table>-->

<script>

    let listProduct = ["iphone 12pro", "samsung galaxy s10", "nokia 1202"];
    display();// tạo 1 hàm display để hiện thị
    function display() {
        let tableString = '<table border="1">\n' +
            '    <tr>\n' +
            '        <th>STT</th>\n' +
            '        <th>Name</th>\n' +
            '        <th>Edit</th>\n' +
            '        <th>Delete</th>\n' +
            '    </tr>'
        for (let i= 0; i< listProduct.length; i++){
            tableString += '<tr>\n' +
                '        <td>'+(i+1)+'</td>\n' +
                '        <td>'+listProduct[i]+'</td>\n' +
                '        <td><input type="button" value="Edit" onclick="editProduct('+i+')"/></td>\n' +
                '        <td><input type="button" value="Delete" onclick="deleteProduct('+i+')"/></td>\n' +
                '    </tr>'
        }
        tableString += '</table>';
        document.getElementById("result").innerHTML= tableString;//định dạng table theo dạng HTML
        document.getElementById("soluong").innerHTML = listProduct.length;// tạo mục hiển thị số lượng sản phẩm
    }

    function addNewProduct() {
        let productName = document.getElementById("add").value;
        document.getElementById("add").value = "";
        if (productName != ""){// xét điện product khác rỗng
            listProduct.push(productName);
        }
        display();// sau khi thực hiên xong hàm thì nhớ gọi lại hàm display này nhé
    }

    function deleteProduct(index) {// dùng hàm confirm để xác nhận người dùng có muốn xóa sản phẩm hay không
        let conf = confirm("Bạn có muốn xóa sản phẩm này không? " +listProduct[index]);
        if (conf){// xét điều kiện nhắc người có muốn xóa hay không
            listProduct.splice(index, 1)
        }
        display();
    }

    function editProduct(index) {
        let newName = prompt("Nhập vào tên sản phẩm mới");
        if (newName != "" && newName != null){// xét điều kiện nếu như ta không nhập gì hết sẽ hiển thị null và rỗng
            listProduct[index] = newName;
        }
        display();

    }
</script>
</body>
</html>